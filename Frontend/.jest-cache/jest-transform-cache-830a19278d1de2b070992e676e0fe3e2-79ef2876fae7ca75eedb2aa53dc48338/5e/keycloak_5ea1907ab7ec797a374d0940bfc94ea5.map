{"file":"/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/auth/keycloak.ts","mappings":";;;;;AAeA,kCAcC;AA7BD,8DAAmC;AACnC,gCAA6B;AAE7B,SAAS,cAAc,CAAC,MAAc;IACpC,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;IACpD,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACnC,CAAC;AAED,SAAS,YAAY,CAAC,MAAc;IAClC,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IACvC,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACxB,CAAC;AAED,IAAI,iBAA8C,CAAC;AAEnD,SAAgB,WAAW;IACzB,IAAI,iBAAiB,KAAK,SAAS;QAAE,OAAO,iBAAiB,CAAC;IAC9D,MAAM,MAAM,GAAG,SAAG,CAAC,UAAU,CAAC;IAC9B,MAAM,QAAQ,GAAG,SAAG,CAAC,YAAY,CAAC;IAClC,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;QACzB,iBAAiB,GAAG,IAAI,CAAC;QACzB,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IACD,iBAAiB,GAAG,IAAI,qBAAQ,CAAC;QAC/B,GAAG,EAAE,cAAc,CAAC,MAAM,CAAC;QAC3B,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC;QAC3B,QAAQ;KACT,CAAC,CAAC;IACH,OAAO,iBAAiB,CAAC;AAC3B,CAAC","names":[],"sources":["/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/auth/keycloak.ts"],"sourcesContent":["import Keycloak from 'keycloak-js';\nimport { env } from '../env';\n\nfunction computeBaseUrl(issuer: string): string {\n  const match = issuer.match(/^(.*)\\/realms\\/[^/]+$/);\n  return match ? match[1] : issuer;\n}\n\nfunction computeRealm(issuer: string): string {\n  const parts = issuer.split('/realms/');\n  return parts[1] ?? '';\n}\n\nlet keycloakSingleton: Keycloak | null | undefined;\n\nexport function getKeycloak(): Keycloak | null {\n  if (keycloakSingleton !== undefined) return keycloakSingleton;\n  const issuer = env.oidcIssuer;\n  const clientId = env.oidcClientId;\n  if (!issuer || !clientId) {\n    keycloakSingleton = null;\n    return keycloakSingleton;\n  }\n  keycloakSingleton = new Keycloak({\n    url: computeBaseUrl(issuer),\n    realm: computeRealm(issuer),\n    clientId,\n  });\n  return keycloakSingleton;\n}\n\n"],"version":3}