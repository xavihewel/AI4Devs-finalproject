6121402bf9d3beb828192988ddad29e3
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importDefault(require("react"));
const react_2 = require("@testing-library/react");
const react_i18next_1 = require("react-i18next");
const config_1 = __importDefault(require("../../i18n/config"));
const MatchCard_1 = __importDefault(require("./MatchCard"));
const renderWithI18n = (component) => {
    return (0, react_2.render)((0, jsx_runtime_1.jsx)(react_i18next_1.I18nextProvider, { i18n: config_1.default, children: component }));
};
const mockMatch = {
    id: 'match-1',
    tripId: 'trip-1',
    driverId: 'driver-1',
    score: 0.85,
    status: 'PENDING',
    origin: '40.4168,-3.7038',
    destinationSedeId: 'SEDE-1',
    dateTime: '2024-01-15T08:30:00Z',
    seatsFree: 3,
    reasons: ['Same route', 'Similar departure time'],
    direction: 'TO_SEDE',
    pairedTripId: null
};
describe('MatchCard', () => {
    const mockOnBook = jest.fn();
    const mockOnViewProfile = jest.fn();
    const mockOnRate = jest.fn();
    beforeEach(() => {
        jest.clearAllMocks();
    });
    it('renders match information correctly', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.getByText('Trip to SEDE-1')).toBeInTheDocument();
        expect(react_2.screen.getByText('40.4168,-3.7038')).toBeInTheDocument();
        expect(react_2.screen.getByText('3')).toBeInTheDocument();
        expect(react_2.screen.getByText('Same route')).toBeInTheDocument();
        expect(react_2.screen.getByText('Similar departure time')).toBeInTheDocument();
    });
    it('shows score badge with correct color and label', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const scoreBadge = react_2.screen.getByText('Excellent');
        expect(scoreBadge).toBeInTheDocument();
        expect(scoreBadge.closest('span')).toHaveClass('text-green-600', 'bg-green-100');
    });
    it('shows booked status when isBooked is true', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, isBooked: true, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.getByText('Already Booked')).toBeInTheDocument();
    });
    it('disables book button when no seats available', () => {
        const matchNoSeats = { ...mockMatch, seatsFree: 0 };
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: matchNoSeats, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const bookButton = react_2.screen.getByText('No seats available');
        expect(bookButton).toBeDisabled();
    });
    it('disables book button when already booked', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, isBooked: true, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const bookButton = react_2.screen.getByText('Already Booked');
        expect(bookButton).toBeDisabled();
    });
    it('shows loading state on book button when booking in progress', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, isBookingInProgress: true, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const bookButton = react_2.screen.getByRole('button', { name: /book trip/i });
        expect(bookButton).toBeDisabled();
    });
    it('calls onBook when book button is clicked', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const bookButton = react_2.screen.getByText('Book Trip');
        react_2.fireEvent.click(bookButton);
        expect(mockOnBook).toHaveBeenCalledWith(mockMatch);
    });
    it('calls onViewProfile when view profile button is clicked', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const viewProfileButton = react_2.screen.getByText('View Profile');
        react_2.fireEvent.click(viewProfileButton);
        expect(mockOnViewProfile).toHaveBeenCalledWith('driver-1');
    });
    it('calls onRate when rate button is clicked', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const rateButton = react_2.screen.getByText('Rate');
        react_2.fireEvent.click(rateButton);
        expect(mockOnRate).toHaveBeenCalledWith('driver-1');
    });
    it('shows map toggle button when coordinates are valid', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.getByText('Show Map')).toBeInTheDocument();
    });
    it('toggles map visibility when show/hide map button is clicked', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        const toggleButton = react_2.screen.getByText('Show Map');
        react_2.fireEvent.click(toggleButton);
        expect(react_2.screen.getByText('Hide Map')).toBeInTheDocument();
    });
    it('does not show map section when coordinates are invalid', () => {
        const matchInvalidCoords = { ...mockMatch, origin: 'invalid' };
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: matchInvalidCoords, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.queryByText('Show Map')).not.toBeInTheDocument();
    });
    it('displays date and time correctly', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        // Check that date and time are displayed (format may vary by locale)
        expect(react_2.screen.getByText(/2024/)).toBeInTheDocument();
    });
    it('shows compatibility reasons when available', () => {
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: mockMatch, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.getByText('Compatibility reasons:')).toBeInTheDocument();
        expect(react_2.screen.getByText('Same route')).toBeInTheDocument();
        expect(react_2.screen.getByText('Similar departure time')).toBeInTheDocument();
    });
    it('does not show compatibility reasons when empty', () => {
        const matchNoReasons = { ...mockMatch, reasons: [] };
        renderWithI18n((0, jsx_runtime_1.jsx)(MatchCard_1.default, { match: matchNoReasons, onBook: mockOnBook, onViewProfile: mockOnViewProfile, onRate: mockOnRate }));
        expect(react_2.screen.queryByText('Compatibility reasons:')).not.toBeInTheDocument();
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2FkbWluL0RvY3VtZW50cy9BSTREZXZzLWZpbmFscHJvamVjdC9Gcm9udGVuZC9zcmMvY29tcG9uZW50cy9tYXRjaGVzL01hdGNoQ2FyZC50ZXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxrREFBMEI7QUFDMUIsa0RBQW1FO0FBQ25FLGlEQUFnRDtBQUNoRCwrREFBcUM7QUFDckMsNERBQW9DO0FBR3BDLE1BQU0sY0FBYyxHQUFHLENBQUMsU0FBNkIsRUFBRSxFQUFFO0lBQ3ZELE9BQU8sSUFBQSxjQUFNLEVBQ1gsdUJBQUMsK0JBQWUsSUFBQyxJQUFJLEVBQUUsZ0JBQUksWUFDeEIsU0FBUyxHQUNNLENBQ25CLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNLFNBQVMsR0FBYTtJQUMxQixFQUFFLEVBQUUsU0FBUztJQUNiLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLEtBQUssRUFBRSxJQUFJO0lBQ1gsTUFBTSxFQUFFLFNBQVM7SUFDakIsTUFBTSxFQUFFLGlCQUFpQjtJQUN6QixpQkFBaUIsRUFBRSxRQUFRO0lBQzNCLFFBQVEsRUFBRSxzQkFBc0I7SUFDaEMsU0FBUyxFQUFFLENBQUM7SUFDWixPQUFPLEVBQUUsQ0FBQyxZQUFZLEVBQUUsd0JBQXdCLENBQUM7SUFDakQsU0FBUyxFQUFFLFNBQVM7SUFDcEIsWUFBWSxFQUFFLElBQUk7Q0FDbkIsQ0FBQztBQUVGLFFBQVEsQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFFO0lBQ3pCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUM3QixNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUNwQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7SUFFN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUs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QUFFLEdBQUcsRUFBRTtRQUNwRCxjQUFjLENBQ1osdUJBQUMsbUJBQVMsSUFDUixLQUFLLEVBQUUsU0FBUyxFQUNoQixNQUFNLEVBQUUsVUFBVSxFQUNsQixhQUFhLEVBQUUsaUJBQWlCLEVBQ2hDLE1BQU0sRUFBRSxVQUFVLEdBQ2xCLENBQ0gsQ0FBQztRQUVGLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3ZFLE1BQU0sQ0FBQyxjQUFNLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUMzRCxNQUFNLENBQUMsY0FBTSxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUN6RSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxnREFBZ0QsRUFBRSxHQUFHLEVBQUU7UUFDeEQsTUFBTSxjQUFjLEdBQUcsRUFBRSxHQUFHLFNBQVMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFFckQsY0FBYyxDQUNaLHVCQUFDLG1CQUFTLElBQ1IsS0FBSyxFQUFFLGNBQWMsRUFDckIsTUFBTSxFQUFFLFVBQVUsRUFDbEIsYUFBYSxFQUFFLGlCQUFpQixFQUNoQyxNQUFNLEVBQUUsVUFBVSxHQUNsQixDQUNILENBQUM7UUFFRixNQUFNLENBQUMsY0FBTSxDQUFDLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDL0UsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvYWRtaW4vRG9jdW1lbnRzL0FJNERldnMtZmluYWxwcm9qZWN0L0Zyb250ZW5kL3NyYy9jb21wb25lbnRzL21hdGNoZXMvTWF0Y2hDYXJkLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCBpMThuIGZyb20gJy4uLy4uL2kxOG4vY29uZmlnJztcbmltcG9ydCBNYXRjaENhcmQgZnJvbSAnLi9NYXRjaENhcmQnO1xuaW1wb3J0IHR5cGUgeyBNYXRjaER0byB9IGZyb20gJy4uLy4uL3R5cGVzL2FwaSc7XG5cbmNvbnN0IHJlbmRlcldpdGhJMThuID0gKGNvbXBvbmVudDogUmVhY3QuUmVhY3RFbGVtZW50KSA9PiB7XG4gIHJldHVybiByZW5kZXIoXG4gICAgPEkxOG5leHRQcm92aWRlciBpMThuPXtpMThufT5cbiAgICAgIHtjb21wb25lbnR9XG4gICAgPC9JMThuZXh0UHJvdmlkZXI+XG4gICk7XG59O1xuXG5jb25zdCBtb2NrTWF0Y2g6IE1hdGNoRHRvID0ge1xuICBpZDogJ21hdGNoLTEnLFxuICB0cmlwSWQ6ICd0cmlwLTEnLFxuICBkcml2ZXJJZDogJ2RyaXZlci0xJyxcbiAgc2NvcmU6IDAuODUsXG4gIHN0YXR1czogJ1BFTkRJTkcnLFxuICBvcmlnaW46ICc0MC40MTY4LC0zLjcwMzgnLFxuICBkZXN0aW5hdGlvblNlZGVJZDogJ1NFREUtMScsXG4gIGRhdGVUaW1lOiAnMjAyNC0wMS0xNVQwODozMDowMFonLFxuICBzZWF0c0ZyZWU6IDMsXG4gIHJlYXNvbnM6IFsnU2FtZSByb3V0ZScsICdTaW1pbGFyIGRlcGFydHVyZSB0aW1lJ10sXG4gIGRpcmVjdGlvbjogJ1RPX1NFREUnLFxuICBwYWlyZWRUcmlwSWQ6IG51bGxcbn07XG5cbmRlc2NyaWJlKCdNYXRjaENhcmQnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tPbkJvb2sgPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tPblZpZXdQcm9maWxlID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrT25SYXRlID0gamVzdC5mbigpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyBtYXRjaCBpbmZvcm1hdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aEkxOG4oXG4gICAgICA8TWF0Y2hDYXJkXG4gICAgICAgIG1hdGNoPXttb2NrTWF0Y2h9XG4gICAgICAgIG9uQm9vaz17bW9ja09uQm9va31cbiAgICAgICAgb25WaWV3UHJvZmlsZT17bW9ja09uVmlld1Byb2ZpbGV9XG4gICAgICAgIG9uUmF0ZT17bW9ja09uUmF0ZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUcmlwIHRvIFNFREUtMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc0MC40MTY4LC0zLjcwMzgnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYW1lIHJvdXRlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NpbWlsYXIgZGVwYXJ0dXJlIHRpbWUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIHNjb3JlIGJhZGdlIHdpdGggY29ycmVjdCBjb2xvciBhbmQgbGFiZWwnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aEkxOG4oXG4gICAgICA8TWF0Y2hDYXJkXG4gICAgICAgIG1hdGNoPXttb2NrTWF0Y2h9XG4gICAgICAgIG9uQm9vaz17bW9ja09uQm9va31cbiAgICAgICAgb25WaWV3UHJvZmlsZT17bW9ja09uVmlld1Byb2ZpbGV9XG4gICAgICAgIG9uUmF0ZT17bW9ja09uUmF0ZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IHNjb3JlQmFkZ2UgPSBzY3JlZW4uZ2V0QnlUZXh0KCdFeGNlbGxlbnQnKTtcbiAgICBleHBlY3Qoc2NvcmVCYWRnZSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NvcmVCYWRnZS5jbG9zZXN0KCdzcGFuJykpLnRvSGF2ZUNsYXNzKCd0ZXh0LWdyZWVuLTYwMCcsICdiZy1ncmVlbi0xMDAnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3dzIGJvb2tlZCBzdGF0dXMgd2hlbiBpc0Jvb2tlZCBpcyB0cnVlJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBpc0Jvb2tlZD17dHJ1ZX1cbiAgICAgICAgb25Cb29rPXttb2NrT25Cb29rfVxuICAgICAgICBvblZpZXdQcm9maWxlPXttb2NrT25WaWV3UHJvZmlsZX1cbiAgICAgICAgb25SYXRlPXttb2NrT25SYXRlfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FscmVhZHkgQm9va2VkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNhYmxlcyBib29rIGJ1dHRvbiB3aGVuIG5vIHNlYXRzIGF2YWlsYWJsZScsICgpID0+IHtcbiAgICBjb25zdCBtYXRjaE5vU2VhdHMgPSB7IC4uLm1vY2tNYXRjaCwgc2VhdHNGcmVlOiAwIH07XG4gICAgXG4gICAgcmVuZGVyV2l0aEkxOG4oXG4gICAgICA8TWF0Y2hDYXJkXG4gICAgICAgIG1hdGNoPXttYXRjaE5vU2VhdHN9XG4gICAgICAgIG9uQm9vaz17bW9ja09uQm9va31cbiAgICAgICAgb25WaWV3UHJvZmlsZT17bW9ja09uVmlld1Byb2ZpbGV9XG4gICAgICAgIG9uUmF0ZT17bW9ja09uUmF0ZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGJvb2tCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdObyBzZWF0cyBhdmFpbGFibGUnKTtcbiAgICBleHBlY3QoYm9va0J1dHRvbikudG9CZURpc2FibGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNhYmxlcyBib29rIGJ1dHRvbiB3aGVuIGFscmVhZHkgYm9va2VkJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBpc0Jvb2tlZD17dHJ1ZX1cbiAgICAgICAgb25Cb29rPXttb2NrT25Cb29rfVxuICAgICAgICBvblZpZXdQcm9maWxlPXttb2NrT25WaWV3UHJvZmlsZX1cbiAgICAgICAgb25SYXRlPXttb2NrT25SYXRlfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgY29uc3QgYm9va0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0FscmVhZHkgQm9va2VkJyk7XG4gICAgZXhwZWN0KGJvb2tCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvd3MgbG9hZGluZyBzdGF0ZSBvbiBib29rIGJ1dHRvbiB3aGVuIGJvb2tpbmcgaW4gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aEkxOG4oXG4gICAgICA8TWF0Y2hDYXJkXG4gICAgICAgIG1hdGNoPXttb2NrTWF0Y2h9XG4gICAgICAgIGlzQm9va2luZ0luUHJvZ3Jlc3M9e3RydWV9XG4gICAgICAgIG9uQm9vaz17bW9ja09uQm9va31cbiAgICAgICAgb25WaWV3UHJvZmlsZT17bW9ja09uVmlld1Byb2ZpbGV9XG4gICAgICAgIG9uUmF0ZT17bW9ja09uUmF0ZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGJvb2tCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ib29rIHRyaXAvaSB9KTtcbiAgICBleHBlY3QoYm9va0J1dHRvbikudG9CZURpc2FibGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdjYWxscyBvbkJvb2sgd2hlbiBib29rIGJ1dHRvbiBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBjb25zdCBib29rQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnQm9vayBUcmlwJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGJvb2tCdXR0b24pO1xuXG4gICAgZXhwZWN0KG1vY2tPbkJvb2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tNYXRjaCk7XG4gIH0pO1xuXG4gIGl0KCdjYWxscyBvblZpZXdQcm9maWxlIHdoZW4gdmlldyBwcm9maWxlIGJ1dHRvbiBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBjb25zdCB2aWV3UHJvZmlsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1ZpZXcgUHJvZmlsZScpO1xuICAgIGZpcmVFdmVudC5jbGljayh2aWV3UHJvZmlsZUJ1dHRvbik7XG5cbiAgICBleHBlY3QobW9ja09uVmlld1Byb2ZpbGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdkcml2ZXItMScpO1xuICB9KTtcblxuICBpdCgnY2FsbHMgb25SYXRlIHdoZW4gcmF0ZSBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoSTE4bihcbiAgICAgIDxNYXRjaENhcmRcbiAgICAgICAgbWF0Y2g9e21vY2tNYXRjaH1cbiAgICAgICAgb25Cb29rPXttb2NrT25Cb29rfVxuICAgICAgICBvblZpZXdQcm9maWxlPXttb2NrT25WaWV3UHJvZmlsZX1cbiAgICAgICAgb25SYXRlPXttb2NrT25SYXRlfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgY29uc3QgcmF0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1JhdGUnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2socmF0ZUJ1dHRvbik7XG5cbiAgICBleHBlY3QobW9ja09uUmF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2RyaXZlci0xJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyBtYXAgdG9nZ2xlIGJ1dHRvbiB3aGVuIGNvb3JkaW5hdGVzIGFyZSB2YWxpZCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoSTE4bihcbiAgICAgIDxNYXRjaENhcmRcbiAgICAgICAgbWF0Y2g9e21vY2tNYXRjaH1cbiAgICAgICAgb25Cb29rPXttb2NrT25Cb29rfVxuICAgICAgICBvblZpZXdQcm9maWxlPXttb2NrT25WaWV3UHJvZmlsZX1cbiAgICAgICAgb25SYXRlPXttb2NrT25SYXRlfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Nob3cgTWFwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCd0b2dnbGVzIG1hcCB2aXNpYmlsaXR5IHdoZW4gc2hvdy9oaWRlIG1hcCBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICByZW5kZXJXaXRoSTE4bihcbiAgICAgIDxNYXRjaENhcmRcbiAgICAgICAgbWF0Y2g9e21vY2tNYXRjaH1cbiAgICAgICAgb25Cb29rPXttb2NrT25Cb29rfVxuICAgICAgICBvblZpZXdQcm9maWxlPXttb2NrT25WaWV3UHJvZmlsZX1cbiAgICAgICAgb25SYXRlPXttb2NrT25SYXRlfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnU2hvdyBNYXAnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2sodG9nZ2xlQnV0dG9uKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIaWRlIE1hcCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZG9lcyBub3Qgc2hvdyBtYXAgc2VjdGlvbiB3aGVuIGNvb3JkaW5hdGVzIGFyZSBpbnZhbGlkJywgKCkgPT4ge1xuICAgIGNvbnN0IG1hdGNoSW52YWxpZENvb3JkcyA9IHsgLi4ubW9ja01hdGNoLCBvcmlnaW46ICdpbnZhbGlkJyB9O1xuICAgIFxuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bWF0Y2hJbnZhbGlkQ29vcmRzfVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdTaG93IE1hcCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGRhdGUgYW5kIHRpbWUgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyBDaGVjayB0aGF0IGRhdGUgYW5kIHRpbWUgYXJlIGRpc3BsYXllZCAoZm9ybWF0IG1heSB2YXJ5IGJ5IGxvY2FsZSlcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvMjAyNC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvd3MgY29tcGF0aWJpbGl0eSByZWFzb25zIHdoZW4gYXZhaWxhYmxlJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhJMThuKFxuICAgICAgPE1hdGNoQ2FyZFxuICAgICAgICBtYXRjaD17bW9ja01hdGNofVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29tcGF0aWJpbGl0eSByZWFzb25zOicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYW1lIHJvdXRlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NpbWlsYXIgZGVwYXJ0dXJlIHRpbWUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2RvZXMgbm90IHNob3cgY29tcGF0aWJpbGl0eSByZWFzb25zIHdoZW4gZW1wdHknLCAoKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hOb1JlYXNvbnMgPSB7IC4uLm1vY2tNYXRjaCwgcmVhc29uczogW10gfTtcbiAgICBcbiAgICByZW5kZXJXaXRoSTE4bihcbiAgICAgIDxNYXRjaENhcmRcbiAgICAgICAgbWF0Y2g9e21hdGNoTm9SZWFzb25zfVxuICAgICAgICBvbkJvb2s9e21vY2tPbkJvb2t9XG4gICAgICAgIG9uVmlld1Byb2ZpbGU9e21vY2tPblZpZXdQcm9maWxlfVxuICAgICAgICBvblJhdGU9e21vY2tPblJhdGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdDb21wYXRpYmlsaXR5IHJlYXNvbnM6JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9