{"file":"/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/components/trust/RatingForm.tsx","mappings":"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","names":[],"sources":["/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/components/trust/RatingForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { RatingsService, RatingCreateDto } from '../../api/ratings';\nimport { Button } from '../ui/Button';\nimport { Input } from '../ui/Input';\nimport { Card } from '../ui/Card';\n\ninterface RatingFormProps {\n  ratedUserId: string;\n  ratedUserName?: string;\n  tripId?: string;\n  onSuccess?: () => void;\n  onCancel?: () => void;\n}\n\nconst COMMON_TAGS = [\n  'puntual',\n  'amigable',\n  'seguro',\n  'respetuoso',\n  'comunicativo',\n  'flexible',\n  'organizado',\n  'confiable'\n];\n\nexport function RatingForm({ ratedUserId, ratedUserName, tripId, onSuccess, onCancel }: RatingFormProps) {\n  const [ratingType, setRatingType] = useState<'THUMBS_UP' | 'THUMBS_DOWN'>('THUMBS_UP');\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [comment, setComment] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleTagToggle = (tag: string) => {\n    setSelectedTags(prev => \n      prev.includes(tag) \n        ? prev.filter(t => t !== tag)\n        : [...prev, tag]\n    );\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (selectedTags.length === 0) {\n      setError('Selecciona al menos una etiqueta');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(false);\n\n      const ratingData: RatingCreateDto = {\n        ratedId: ratedUserId,\n        tripId,\n        ratingType,\n        tags: selectedTags,\n        comment: comment.trim() || undefined\n      };\n\n      await RatingsService.createRating(ratingData);\n      setSuccess(true);\n      \n      // Auto-close after showing success message\n      setTimeout(() => {\n        onSuccess?.();\n      }, 2000);\n    } catch (err) {\n      setError('Error al crear la valoraci√≥n');\n      console.error('Error creating rating:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Card>\n      <div className=\"p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n          Valorar a {ratedUserName || 'usuario'}\n        </h3>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Rating Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tipo de valoraci√≥n\n            </label>\n            <div className=\"flex space-x-4\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  name=\"ratingType\"\n                  value=\"THUMBS_UP\"\n                  checked={ratingType === 'THUMBS_UP'}\n                  onChange={(e) => setRatingType(e.target.value as 'THUMBS_UP')}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-green-600\">üëç Positivo</span>\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"radio\"\n                  name=\"ratingType\"\n                  value=\"THUMBS_DOWN\"\n                  checked={ratingType === 'THUMBS_DOWN'}\n                  onChange={(e) => setRatingType(e.target.value as 'THUMBS_DOWN')}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-red-600\">üëé Negativo</span>\n              </label>\n            </div>\n          </div>\n\n          {/* Tags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Etiquetas (selecciona al menos una)\n            </label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {COMMON_TAGS.map((tag) => (\n                <label key={tag} className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedTags.includes(tag)}\n                    onChange={() => handleTagToggle(tag)}\n                    className=\"mr-2\"\n                  />\n                  <span className=\"text-sm\">{tag}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          {/* Comment */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Comentario (opcional)\n            </label>\n            <textarea\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              placeholder=\"Describe tu experiencia...\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              rows={3}\n            />\n          </div>\n\n          {/* Success Message */}\n          {success && (\n            <div className=\"bg-green-50 border border-green-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <h3 className=\"text-sm font-medium text-green-800\">\n                    ¬°Valoraci√≥n enviada correctamente!\n                  </h3>\n                  <div className=\"mt-2 text-sm text-green-700\">\n                    <p>Tu valoraci√≥n ha sido guardada y ser√° visible para otros usuarios.</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <h3 className=\"text-sm font-medium text-red-800\">\n                    Error al enviar la valoraci√≥n\n                  </h3>\n                  <div className=\"mt-2 text-sm text-red-700\">\n                    <p>{error}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex justify-end space-x-3\">\n            {onCancel && !success && (\n              <Button\n                type=\"button\"\n                variant=\"secondary\"\n                onClick={onCancel}\n                disabled={loading}\n              >\n                Cancelar\n              </Button>\n            )}\n            <Button\n              type=\"submit\"\n              disabled={loading || selectedTags.length === 0 || success}\n            >\n              {loading ? 'Guardando...' : success ? '¬°Enviado!' : 'Enviar Valoraci√≥n'}\n            </Button>\n          </div>\n        </form>\n      </div>\n    </Card>\n  );\n}\n\n"],"version":3}