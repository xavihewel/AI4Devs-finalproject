{"file":"/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/components/trust/TrustProfile.tsx","mappings":"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","names":[],"sources":["/Users/admin/Documents/AI4Devs-finalproject/Frontend/src/components/trust/TrustProfile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { RatingsService, TrustStats } from '../../api/ratings';\nimport { Card } from '../ui/Card';\nimport { LoadingSpinner } from '../ui/LoadingSpinner';\n\ninterface TrustProfileProps {\n  userId: string;\n  userName?: string;\n}\n\nexport function TrustProfile({ userId, userName }: TrustProfileProps) {\n  const [trustStats, setTrustStats] = useState<TrustStats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadTrustStats();\n  }, [userId]);\n\n  const loadTrustStats = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const stats = await RatingsService.getTrustStats(userId);\n      setTrustStats(stats);\n    } catch (err: any) {\n      console.error('Error loading trust stats:', err);\n      \n      if (err.response?.status === 404) {\n        setError('Este usuario a√∫n no tiene valoraciones de confianza');\n      } else if (err.response?.status === 403) {\n        setError('No tienes permisos para ver este perfil de confianza');\n      } else if (err.response?.status >= 500) {\n        setError('Error del servidor. Int√©ntalo m√°s tarde');\n      } else {\n        setError('Error al cargar estad√≠sticas de confianza');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTrustScoreColor = (score: number) => {\n    if (score >= 0.8) return 'text-green-600';\n    if (score >= 0.6) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  const getTrustScoreLabel = (score: number) => {\n    if (score >= 0.8) return 'Excelente';\n    if (score >= 0.6) return 'Bueno';\n    if (score >= 0.4) return 'Regular';\n    return 'Bajo';\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <div className=\"flex justify-center items-center h-32\">\n          <LoadingSpinner size=\"md\" />\n        </div>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <div className=\"text-center text-red-600 p-4\">\n          {error}\n        </div>\n      </Card>\n    );\n  }\n\n  if (!trustStats) {\n    return (\n      <Card>\n        <div className=\"text-center text-gray-600 p-4\">\n          No hay estad√≠sticas de confianza disponibles\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Perfil de Confianza {userName && `- ${userName}`}\n          </h3>\n          <div className={`text-2xl font-bold ${getTrustScoreColor(trustStats.trustScore)}`}>\n            {Math.round(trustStats.trustScore * 100)}%\n          </div>\n        </div>\n\n        <div className=\"mb-4\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">Puntuaci√≥n de Confianza</span>\n            <span className={`text-sm font-medium ${getTrustScoreColor(trustStats.trustScore)}`}>\n              {getTrustScoreLabel(trustStats.trustScore)}\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              className={`h-2 rounded-full ${\n                trustStats.trustScore >= 0.8 ? 'bg-green-500' :\n                trustStats.trustScore >= 0.6 ? 'bg-yellow-500' : 'bg-red-500'\n              }`}\n              style={{ width: `${trustStats.trustScore * 100}%` }}\n            />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4 mb-4\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-gray-900\">{trustStats.totalRatings}</div>\n            <div className=\"text-sm text-gray-600\">Total</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">{trustStats.thumbsUp}</div>\n            <div className=\"text-sm text-gray-600\">üëç Positivos</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-red-600\">{trustStats.thumbsDown}</div>\n            <div className=\"text-sm text-gray-600\">üëé Negativos</div>\n          </div>\n        </div>\n\n        {trustStats.mostCommonTags.length > 0 && (\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Etiquetas m√°s comunes</h4>\n            <div className=\"flex flex-wrap gap-2\">\n              {trustStats.mostCommonTags.map((tag, index) => (\n                <span\n                  key={index}\n                  className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full\"\n                >\n                  {tag}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n"],"version":3}