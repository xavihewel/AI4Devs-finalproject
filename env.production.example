# Production Environment Configuration
# Copy this file to .env.production and update values for your production environment

# =============================================================================
# CRITICAL SECURITY SETTINGS - MUST BE CONFIGURED FOR PRODUCTION
# =============================================================================

# Authentication - MUST be enabled in production
AUTH_DISABLED=false
REQUIRE_ROLE_EMPLOYEE=true

# OIDC Configuration - Update with your production Keycloak
OIDC_ISSUER_URI=https://your-keycloak-domain.com/realms/bonareago
OIDC_CLIENT_ID=bonareago-backend
OIDC_CLIENT_SECRET=your-production-client-secret

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Production PostgreSQL - Update with your production database
DATABASE_URL=jdbc:postgresql://your-db-host:5432/bonareago_prod
POSTGRES_USER=bonareago_user
POSTGRES_PASSWORD=your-secure-database-password
POSTGRES_DB=bonareago_prod

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Production Redis - Update with your production Redis instance
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=your-redis-password

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# VAPID Keys for Push Notifications - Generate new keys for production
VAPID_PUBLIC_KEY=your-production-vapid-public-key
VAPID_PRIVATE_KEY=your-production-vapid-private-key

# SMTP Configuration - Update with your production SMTP server
SMTP_HOST=smtp.your-domain.com
SMTP_PORT=587
SMTP_USERNAME=notifications@your-domain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@your-domain.com

# =============================================================================
# CORS AND SECURITY
# =============================================================================

# CORS Configuration - Update with your production domain
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com

# Security Headers
SECURITY_HEADERS_ENABLED=true
RATE_LIMITING_ENABLED=true

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Level - Use INFO or WARN in production, never DEBUG
LOG_LEVEL=INFO

# Application Name for Logging
APP_NAME=bonareago

# =============================================================================
# SERVICE CONFIGURATION
# =============================================================================

# Service Ports (usually 8080-8085)
AUTH_SERVICE_PORT=8080
USERS_SERVICE_PORT=8082
TRIPS_SERVICE_PORT=8081
BOOKING_SERVICE_PORT=8083
MATCHING_SERVICE_PORT=8084
NOTIFICATION_SERVICE_PORT=8085

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend Environment Variables
VITE_API_BASE_URL=https://api.your-domain.com
VITE_AUTH_SERVICE_URL=https://api.your-domain.com/auth
VITE_USERS_SERVICE_URL=https://api.your-domain.com/users
VITE_TRIPS_SERVICE_URL=https://api.your-domain.com/trips
VITE_BOOKING_SERVICE_URL=https://api.your-domain.com/bookings
VITE_MATCHING_SERVICE_URL=https://api.your-domain.com/matches
VITE_NOTIFICATION_SERVICE_URL=https://api.your-domain.com/notifications

# VAPID Public Key for Frontend
VITE_VAPID_PUBLIC_KEY=your-production-vapid-public-key

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/api/metrics

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Database Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Connection Pool Settings
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_POOL_TIMEOUT=30000

# Cache Settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================

# ✅ AUTH_DISABLED=false (authentication enabled)
# ✅ REQUIRE_ROLE_EMPLOYEE=true (role validation enabled)
# ✅ Strong database passwords
# ✅ Secure SMTP credentials
# ✅ Production VAPID keys
# ✅ CORS configured for production domains only
# ✅ Security headers enabled
# ✅ Rate limiting enabled
# ✅ Log level set to INFO or WARN
# ✅ HTTPS configured for all services
# ✅ Database backups enabled
# ✅ Monitoring and health checks enabled

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================

# 1. Update all URLs to use your production domains
# 2. Generate new VAPID keys for production
# 3. Configure SSL certificates for HTTPS
# 4. Set up database backups
# 5. Configure monitoring and alerting
# 6. Test all integrations in staging environment
# 7. Perform security audit before go-live
# 8. Set up log aggregation and monitoring
# 9. Configure auto-scaling if needed
# 10. Document incident response procedures
